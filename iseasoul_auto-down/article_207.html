<h3>Original Link: <a href=http://iseasoul.diandian.com/post/2010-04-13/17923730>http://iseasoul.diandian.com/post/2010-04-13/17923730</a></h3>
<article>
 <h3 data-postname="Pattern Translations">
  <a href="#" onclick="return false" style="cursor:default;">
   很实际的最短路 GCJ 2009 Round 1A B
  </a>
 </h3>
 <p class="date ">
  13th of April 2010
 </p>
 <p class="date " style="margin-top:-1.2em;">
  <a href="/?tag=%E9%BB%98%E8%AE%A4%E5%88%86%E7%B1%BB" target="_blank">
   默认分类
  </a>
 </p>
 <!-- 内容页面 全文 -->
 <p>
 </p>
 <p>
  Problem
 </p>
 <p>
  Where roads intersect, there are often traffic lights that tell pedestrians (people walking) when they should cross the street. A clever pedestrian may try to optimize her path through a city based on when those lights turn green.
 </p>
 <p>
  The city in this problem is a grid,
  <strong>
   N
  </strong>
  rows tall by
  <strong>
   M
  </strong>
  columns wide. Our pedestrian wants to get from the northeast corner of the southwest block to the southwest corner of the northeast block. Your objective is to help her find her way from corner to corner in the fastest way possible.
 </p>
 <p>
  The pedestrian can cross a street in 1 minute, but only if the traffic light is green for the entire crossing. The pedestrian can move between two streets, along one edge of a block, in 2 minutes. The pedestrian can only move along the edges of the block; she cannot move diagonally from one corner of a block to the opposite corner.
 </p>
 <br>
  <br>
   <span class="text-img-holder">
    <img height="278" src="http://m2.img.srcdd.com/farm3/d/2012/0326/16/A53CE3E86F1FE16D6671E18DD83FE72A_B500_900_469_278.PNG" width="469"/>
   </span>
   <br>
    <br>
     <br>
      <p>
       Traffic lights follow the following pattern: at intersection i, the north-south lights stay green for
       <strong>
        Si
       </strong>
       minutes, while the east-west lights stay red. Then the north-south lights turn red, the east-west lights turn green, and they stay that way for
       <strong>
        Wi
       </strong>
       minutes. Then they start the same cycle again. The pedestrian starts moving at t=0 minutes; traffic light i starts a cycle by turning green in the north-south direction at t=
       <strong>
        Ti
       </strong>
       minutes. There are cycles before t=Ti as well.
      </p>
      <p>
       For example, intersection 0 could have the following values:
      </p>
      <p>
       S0 = 3, W0 = 2, T0 = 0
       <br>
       </br>
      </p>
      <p>
       The north-south direction turns green after 0 minutes. That lasts 3 minutes, during which time the pedestrian can cross in the north-south direction and not the east-west direction. Then the lights switch, and for the next 2 minutes the pedestrian can cross in the east-west direction and not the north-south direction. Then, 5 minutes after it started, the cycle starts again. This is exactly the same as the following configuration:
      </p>
      <p>
       S0 = 3, W0 = 2, T0 = 10
       <br>
       </br>
      </p>
      <p>
       Input
      </p>
      <p>
       The first line in the input contains the number of test cases,
       <strong>
        C
       </strong>
       . This is followed by
       <strong>
        C
       </strong>
       test cases in the following format:
      </p>
      <p>
       A single line containing "
       <strong>
        N
       </strong>
       <strong>
        M
       </strong>
       ", where
       <strong>
        N
       </strong>
       and
       <strong>
        M
       </strong>
       are the number of horizontal roads (rows) and vertical roads (columns), as above. This is followed by
       <strong>
        N
       </strong>
       lines. The ith of those lines contains information about intersections on the ith row, where the 0th row is the northmost. Each of those lines will contain 3
       <strong>
        M
       </strong>
       integers, separated by spaces, in the following form:
      </p>
      <p>
       Si,0 Wi,0 Ti,0 Si,1 Wi,1 Ti,1... Si,M-1 Wi,M-1 Ti,M-1
      </p>
      <p>
       <strong>
        S
       </strong>
       i,j,
       <strong>
        W
       </strong>
       i,j and
       <strong>
        T
       </strong>
       i,j all refer to the intersection in the ith row from the north and the jth column from the west.
      </p>
      <p>
       Output
      </p>
      <p>
       For each test case, output a single line containing the text "Case #x: t", where x is the number of the test case and t is the minimum number of minutes it takes the pedestrian to get from the southwest corner to the northeast corner.
      </p>
      <p>
       Sample
      </p>
      <br>
       <span>
        Input
       </span>
       <br>
        <span>
         Output
        </span>
        2
        <br>
         1 1
         <br>
          3 2 10
          <br>
           1 2
           <br>
            1 5 3 1 5 2
            <br>
             Case #1: 4
             <br>
              Case #2: 7
              <p>
               点w1IsR点U9wang
               <a href="http://www.diandian.com/?ref=crawler">
                点点网
               </a>
              </p>
              <p>
              </p>
              <div class="footnotes">
               <hr>
                <div id="notes" style="">
                 <a name="jjlnotes">
                 </a>
                 <iframe allowtransparency="true" frameborder="0" height="0" id="diandian_comments" scrolling="no" src="http://www.diandian.com/n/common/comment?feedId=b8260fc0-78c8-11e1-beaa-782bcb383976&amp;notesTextColor=%23131313&amp;notesLinkColor=%23131313&amp;notesBlockQuoteColor=&amp;notesBlockBgColor=%23ffffff&amp;notesBlockBorderColor=&amp;notesBlockBgOpacity=0&amp;notesOperationLinkColor=&amp;notesEnableBorderRadius=&amp;notesIframeId=" width="530">
                 </iframe>
                </div>
               </hr>
              </div>
             </br>
            </br>
           </br>
          </br>
         </br>
        </br>
       </br>
      </br>
     </br>
    </br>
   </br>
  </br>
 </br>
</article>
