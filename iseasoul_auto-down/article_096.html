<h3>Original Link: <a href=http://iseasoul.diandian.com/post/2011-09-29/17311315>http://iseasoul.diandian.com/post/2011-09-29/17311315</a></h3>
<article>
 <h3 data-postname="Pattern Translations">
  <a href="#" onclick="return false" style="cursor:default;">
   HDOJ 3941
  </a>
 </h3>
 <p class="date ">
  29th of September 2011
 </p>
 <p class="date " style="margin-top:-1.2em;">
  <a href="/?tag=Last%20Acm" target="_blank">
   Last Acm
  </a>
 </p>
 <!-- 内容页面 全文 -->
 <p>
 </p>
 <p>
  今天上HDOJ的号，发现一些关于这个题的站内信，就写了写思路。
 </p>
 <p>
 </p>
 <p>
  大意：N堆个数都为K的石子，每次可以选取两个不同的堆各取一个石子，问中间可能出现多少种不同的局面，不考虑石子顺序。
 </p>
 <p>
 </p>
 <p>
  考虑反过来的情况，有多少种石子堆 &lt;a1, a2, ... , an&gt; 可以通过每次取不同堆的两个全部取完。
 </p>
 <p>
  可以证明 for all ai (1 &lt;= i &lt;= n) 都有 ai &lt;= sigma(ai) / 2 成立时，满足条件。
 </p>
 <p>
  （参考
  <a href="http://acm.hdu.edu.cn/showproblem.php?pid=3418">
   HDOJ 3418
  </a>
  这个我以前出的题目。）
 </p>
 <p>
  并且全部取完，需要 sigma(ai) 为偶数。
 </p>
 <p>
  又有&lt;2, 1&gt; 和 &lt;1, 2&gt; 等价，需要求出不减的序列个数。
 </p>
 <p>
  于是可以求出两个DP:
 </p>
 <p>
  第一个DP求出所有 sigma(ai)为奇/偶 的序列个数。
 </p>
 <p>
  第二个DP求出所有 序列最后一个 an * 2 &gt; sigma(ai) 时且 sigma(ai) 为偶的个数。
 </p>
 <p>
  这个DP可以预处理出来一个值，为 Sum拆分为不减序列 的个数，然后枚举最后一个数，把不合法的加起来。
 </p>
 <p>
  然后 DP1[N][K][偶] - DP2 就是答案了。
 </p>
 <p>
 </p>
 <p>
  复杂度： O(N ^ 2)
 </p>
 <p>
 </p>
 <p>
 </p>
 <p>
  Powered By 点点网
  <a href="http://www.diandian.com/?ref=crawler">
   点点网
  </a>
 </p>
 <p>
 </p>
 <div class="footnotes">
  <hr>
   <div id="notes" style="">
    <a name="jjlnotes">
    </a>
    <iframe allowtransparency="true" frameborder="0" height="0" id="diandian_comments" scrolling="no" src="http://www.diandian.com/n/common/comment?feedId=b2f3a5d0-78c8-11e1-beaa-782bcb383976&amp;notesTextColor=%23131313&amp;notesLinkColor=%23131313&amp;notesBlockQuoteColor=&amp;notesBlockBgColor=%23ffffff&amp;notesBlockBorderColor=&amp;notesBlockBgOpacity=0&amp;notesOperationLinkColor=&amp;notesEnableBorderRadius=&amp;notesIframeId=" width="530">
    </iframe>
   </div>
  </hr>
 </div>
</article>
