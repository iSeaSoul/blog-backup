<h3>Original Link: <a href=http://raindreamer.diandian.com/python-note-2>http://raindreamer.diandian.com/python-note-2</a></h3>
<article>
 <h3 data-postname="Pattern Translations">
  <a href="#" onclick="return false" style="cursor:default;">
   PythonWP2：jsonDQ
  </a>
 </h3>
 <p class="date ">
  21th of August 2013
 </p>
 <p class="date " style="margin-top:-1.2em;">
  <a href="/?tag=learning-note" target="_blank">
   learning-note
  </a>
 </p>
 <!-- 内容页面 全文 -->
 <p>
 </p>
 <p>
  【Background】
 </p>
 <p>
  json是一Np量的交互方式，多用於web、S2C的鞑ァPython自2.6版本就有了json的支持，加上pythonBZ言的故，使得DQ^程非常`活，使用起硪卜浅７奖恪
 </p>
 <p>
  【Usage】
 </p>
 <p>
  python的jsonDQ十分危loads(str)，dumps(obj)足以付所有自ь型的情r。
 </p>
 <p>
  在一些特定的情r下，需要用到自定x的class，可以考]使用U展的JSONEncoder和JSONDecoder。如：
 </p>
 <pre config="color:#000000;word-wrap:break-word;white-space:pre-wrap;">class json_encoder(json.JSONEncoder):
    
    def default(self, obj):
        d = {}
        d['__class__'] = obj.__class__.__name__
        d['__module__'] = obj.__module__
        d.update(obj.__dict__)
        return d
    
class json_decoder(json.JSONDecoder):
    
    def __init__(self):
        json.JSONDecoder.__init__(self,object_hook=self.dict2object)
        
    def dict2object(self, d):
        if'__class__' in d:
            class_name = d.pop('__class__')
            module_name = d.pop('__module__')
            module = __import__(module_name)
            class_ = getattr(module, class_name)
            args = dict((key.encode('ascii'), value) for key, value in d.items())
            inst = class_(**args)
        else:
            inst = d
        return inst
</pre>
 <p>
  【Addition】
 </p>
 <p>
  但在一些非BZ言中，如C#中，json^於`活的表示е罗DQ^程要}s很多。
 </p>
 <p>
  以C#槔做蔚恼f明，@e使用了Newtonsoft.Json，具w可⒁reference的link。
 </p>
 <p>
  於object的序列化，JsonConvert.SerializeObject是可以序列化C#可定x的型的，Json大多的理ο笫Dict&lt;string, object&gt;，可以D化檫@N字典的嵌套型硖理。或者使用Newtonsoft.Json中戎玫DataTableConverter硖理。
 </p>
 <p>
  而τjstring的反序列化，JsonConvert.DeserializeObject大部份r候需要定x好具w的於，并在的傩郧凹由项^
 </p>
 <p>
  [JsonProperty(PropertyName = "pname")]
  <br/>
 </p>
 <p>
  如此魅腩担硖理反序列化，但是可能存在多重嵌套@e定x很深的哟危因此@理方法在pythonS意定x的Y面前也非常麻。面@Nr，只能用半B的var和JArray碇鸩教理。
 </p>
 <p>
  BZ言在@一c上菥孤oz。
 </p>
 <p>
  【Reference】
 </p>
 <p>
  <a href="http://docs.python.org/2/library/json.html">
  </a>
  <a href="http://docs.python.org/2/library/json.html">
   http://docs.python.org/2/library/json.html
  </a>
 </p>
 <p>
  <a href="http://docs.python.org/2/library/json.html">
  </a>
  <a href="http://json.codeplex.com/">
   http://json.codeplex.com/
  </a>
  <br/>
 </p>
 <p>
  点f点642Pbf网
  <a href="http://www.diandian.com/?ref=crawler">
   点点网
  </a>
 </p>
 <p>
 </p>
 <div class="footnotes">
  <hr>
   <div id="notes" style="">
    <a name="jjlnotes">
    </a>
    <iframe allowtransparency="true" frameborder="0" height="0" id="diandian_comments" scrolling="no" src="http://www.diandian.com/n/common/comment?feedId=7b91d470-0a46-11e3-8fb1-d4ae52a7bec4&amp;notesTextColor=%23131313&amp;notesLinkColor=%23131313&amp;notesBlockQuoteColor=&amp;notesBlockBgColor=%23ffffff&amp;notesBlockBorderColor=&amp;notesBlockBgOpacity=0&amp;notesOperationLinkColor=&amp;notesEnableBorderRadius=&amp;notesIframeId=" width="530">
    </iframe>
   </div>
  </hr>
 </div>
</article>
